# Docker –æ–±—Ä–∞–∑—ã –∏ —Ç–µ–≥–∏ N8N

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### üöÄ **master –≤–µ—Ç–∫–∞** (Production)
–ü—Ä–∏ push –≤ `master` —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–±—Ä–∞–∑—ã —Å —Ç–µ–≥–∞–º–∏:
- `latest` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Docker —Ç–µ–≥ –¥–ª—è production
- `master-{sha}` - –≤–µ—Ä—Å–∏—è —Å —Ö–µ—à–µ–º –∫–æ–º–º–∏—Ç–∞ –¥–ª—è —Ç–æ—á–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```dockerfile
# Heroku Dockerfile
FROM ghcr.io/connect-app/n8n/n8n-custom:latest
```

### üß™ **develop –≤–µ—Ç–∫–∞** (Staging/Testing)
–ü—Ä–∏ push –≤ `develop` —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–±—Ä–∞–∑—ã —Å —Ç–µ–≥–∞–º–∏:
- `develop-latest` - –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `develop` - –∞–ª–∏–∞—Å –≤–µ—Ç–∫–∏
- `develop-{sha}` - –≤–µ—Ä—Å–∏—è —Å —Ö–µ—à–µ–º –∫–æ–º–º–∏—Ç–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```dockerfile
# –î–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
FROM ghcr.io/connect-app/n8n/n8n-custom:develop-latest
```

## Workflow –ø—Ä–æ—Ü–µ—Å—Å

1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** ‚Üí push –≤ `develop` ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ `develop-latest`
2. **–ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–ª–∏–∑—É** ‚Üí merge `develop` ‚Üí `master` ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è production –æ–±—Ä–∞–∑ `latest`
3. **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π** ‚Üí Heroku –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç `latest` –æ–±—Ä–∞–∑ –∏ –¥–µ–ø–ª–æ–∏—Ç

## Registry
–í—Å–µ –æ–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤: `ghcr.io/connect-app/n8n/n8n-custom` 