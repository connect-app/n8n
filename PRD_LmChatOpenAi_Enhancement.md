# Product Requirements Document (PRD)

## –ü—Ä–æ–µ–∫—Ç: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ OpenAI Chat Model Node –≤ n8n

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-28  
**–ê–≤—Ç–æ—Ä:** Development Team  
**–°—Ç–∞—Ç—É—Å:** Draft  

---

## üìã **–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞**

### **–¶–µ–ª—å –ø—Ä–æ–¥—É–∫—Ç–∞**
–†–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å OpenAI Chat Model Node –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π OpenAI API, –≤–∫–ª—é—á–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ JSON Schema.

### **–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è**
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ n8n –≤–æ—Ä–∫—Ñ–ª–æ—É
- AI/ML –∏–Ω–∂–µ–Ω–µ—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã
- DevOps –∏–Ω–∂–µ–Ω–µ—Ä—ã

### **–ü—Ä–æ–±–ª–µ–º–∞**
–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è OpenAI Chat Model Node –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
1. –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–æ—Ç–æ–∫–æ–≤—ã–º —Ä–µ–∂–∏–º–æ–º (streaming –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω)
2. –ü–æ–¥–¥–µ—Ä–∂–∫—É JSON Schema –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
3. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ OpenAI API –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–æ–≤

---

## üéØ **–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**

### **PR-001: –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞**

**–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è —Ö–æ—á—É:**
- –Ø–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ–∂–∏–º–æ–º streaming –¥–ª—è OpenAI –º–æ–¥–µ–ª–∏
- –û—Ç–∫–ª—é—á–∞—Ç—å streaming –¥–ª—è —Å–ª—É—á–∞–µ–≤, –≥–¥–µ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç —Å—Ä–∞–∑—É
- –í–∏–¥–µ—Ç—å —á–µ—Ç–∫—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ù–æ–≤–∞—è –æ–ø—Ü–∏—è "Streaming" –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ–∫—Ü–∏–∏ Options
- ‚úÖ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é streaming –æ—Ç–∫–ª—é—á–µ–Ω (false) –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- ‚úÖ –û–ø—Ü–∏—è –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ API –≤—ã–∑–æ–≤–æ–≤
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –≤–æ—Ä–∫—Ñ–ª–æ—É

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
```
–î–ê–ù–û: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π OpenAI Chat Model –Ω–æ–¥
–ö–û–ì–î–ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Options
–¢–û–ì–î–ê: –í–∏–¥–∏—Ç –æ–ø—Ü–∏—é "Streaming" —Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ Enable/Disable
–ò: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±—Ä–∞–Ω–æ "Disable"
```

### **PR-002: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON Schema**

**–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è —Ö–æ—á—É:**
- –ó–∞–¥–∞–≤–∞—Ç—å —Ç–æ—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ JSON Schema
- –ü–æ–ª—É—á–∞—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç AI
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω–æ–π —Å—Ö–µ–º—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∞ –æ–ø—Ü–∏—è "Response Format" —Å –Ω–æ–≤—ã–º —Ç–∏–ø–æ–º "JSON Schema"
- ‚úÖ –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ JSON Schema –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ–∫—Ü–∏–∏ Options
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ JSON Schema –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–æ–¥–∞
- ‚úÖ –ß–µ—Ç–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ - –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç JSON Schema
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI Structured Outputs API
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—Ö–µ–º

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
```
–î–ê–ù–û: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª Response Format = "JSON Schema"
–ö–û–ì–î–ê: –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–µ "JSON Schema"
–¢–û–ì–î–ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤–∞–ª–∏–¥–Ω—É—é JSON —Å—Ö–µ–º—É
–ò: –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ
–ò: –í–∏–¥–∏—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π —Å—Ö–µ–º–µ
```

### **PR-003: –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**

**–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è —Ö–æ—á—É:**
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–ø—Ü–∏–π
- –í–∏–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –õ–µ–≥–∫–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–æ—Ä–∫—Ñ–ª–æ—É

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –æ–ø—Ü–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ–∫—Ü–∏–∏ Options
- ‚úÖ –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª–µ–π (JSON Schema —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã JSON Schema –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–æ–¥–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏**

### **TS-001: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

**–§–∞–π–ª:** `LmChatOpenAi.node.ts`

**–ù–æ–≤—ã–µ —Ç–∏–ø—ã:**
```typescript
interface StreamingOptions {
  streaming?: boolean;
  responseFormat?: 'text' | 'json_object' | 'json_schema';
  jsonSchema?: string;
}

type ResponseFormatType = 'text' | 'json_object' | 'json_schema';

interface JsonSchemaFormat {
  type: 'json_schema';
  json_schema: {
    name: string;
    schema: object;
    strict?: boolean;
  };
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ UI:**
```typescript
// –ù–æ–≤–∞—è –æ–ø—Ü–∏—è Streaming (–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ–∫—Ü–∏–∏ Options)
{
  displayName: 'Streaming',
  name: 'streaming',
  type: 'boolean',
  default: false,
  description: 'Enable streaming mode for real-time response generation. Disabled by default for compatibility.',
}

// –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–ø—Ü–∏—è Response Format
{
  displayName: 'Response Format',
  name: 'responseFormat',
  type: 'options',
  options: [
    { name: 'Text', value: 'text' },
    { name: 'JSON Object', value: 'json_object' },
    { name: 'JSON Schema', value: 'json_schema' }
  ]
}

// –ü–æ–ª–µ JSON Schema (–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ–∫—Ü–∏–∏ Options)
{
  displayName: 'JSON Schema',
  name: 'jsonSchema',
  type: 'json',
  default: '{"type": "object", "properties": {}}',
  displayOptions: {
    show: { responseFormat: ['json_schema'] }
  },
  description: 'Define the structure of the JSON response. Validated on save.',
  validateType: 'jsonSchema',
  placeholder: 'Enter valid JSON Schema...'
}
```

### **TS-002: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**

**–§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ response format:**
```typescript
function getResponseFormat(options: StreamingOptions): object | undefined {
  switch (options.responseFormat) {
    case 'json_object':
      return { type: 'json_object' };
    case 'json_schema':
      if (!options.jsonSchema) {
        throw new NodeOperationError(this.getNode(), 'JSON Schema is required when format is json_schema');
      }
      try {
        const schema = JSON.parse(options.jsonSchema);
        // Validate schema structure
        if (!schema.type) {
          throw new Error('JSON Schema must have a "type" field');
        }
        return {
          type: 'json_schema',
          json_schema: {
            name: 'custom_schema',
            schema,
            strict: true
          }
        };
      } catch (error) {
        throw new NodeOperationError(this.getNode(), `Invalid JSON Schema: ${error.message}`);
      }
    default:
      return undefined;
  }
}
```

### **TS-003: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LangChain**

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ supplyData:**
```typescript
const model = new ChatOpenAI({
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  streaming: options.streaming ?? false,
  modelKwargs: {
    ...modelKwargs,
    ...(options.responseFormat && options.responseFormat !== 'text' 
      ? { response_format: getResponseFormat(options) } 
      : {})
  }
});
```

---

## üß™ **–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**

### **T-001: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã**

| ID | –°—Ü–µ–Ω–∞—Ä–∏–π | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|----|----------|-------------------|
| T-001-01 | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–¥–∞ —Å streaming=false | –û—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –±–µ–∑ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ |
| T-001-02 | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–¥–∞ —Å streaming=true | –û—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–∫–æ–≤–æ |
| T-001-03 | JSON Schema —Å –≤–∞–ª–∏–¥–Ω–æ–π —Å—Ö–µ–º–æ–π | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç |
| T-001-04 | JSON Schema —Å –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π —Å—Ö–µ–º–æ–π | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ |
| T-001-05 | –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –Ω–æ–¥–∞ | –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |

### **T-002: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**

| ID | –°—Ü–µ–Ω–∞—Ä–∏–π | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
|----|----------|------------|
| T-002-01 | –†–∞–±–æ—Ç–∞ —Å AI Chain | LmChatOpenAi + AI Chain |
| T-002-02 | –†–∞–±–æ—Ç–∞ —Å AI Agent | LmChatOpenAi + AI Agent |
| T-002-03 | –†–∞–∑–ª–∏—á–Ω—ã–µ –º–æ–¥–µ–ª–∏ GPT | GPT-4, GPT-4o, GPT-4o-mini |

### **T-003: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –°–ø–æ—Å–æ–± –∏–∑–º–µ—Ä–µ–Ω–∏—è |
|---------|------------------|------------------|
| –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | ‚â§ +5% –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ | Benchmark —Ç–µ—Å—Ç—ã |
| –ü–∞–º—è—Ç—å | ‚â§ +2% –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ | Memory profiling |
| CPU | ‚â§ +1% –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ | Performance tests |

---

## üìä **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏**

### **Epic 1: –ö–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç—Ä–∏–º–∏–Ω–≥–∞**

**US-001:** –ö–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤–æ—Ä–∫—Ñ–ª–æ—É, —è —Ö–æ—á—É –æ—Ç–∫–ª—é—á–∏—Ç—å streaming, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç —Å—Ä–∞–∑—É –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

**US-002:** –ö–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, —è —Ö–æ—á—É –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º —Å—Ç—Ä–∏–º–∏–Ω–≥–∞, —á—Ç–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### **Epic 2: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**

**US-003:** –ö–∞–∫ AI –∏–Ω–∂–µ–Ω–µ—Ä, —è —Ö–æ—á—É –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –≤ —Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º JSON —Ñ–æ—Ä–º–∞—Ç–µ, —á—Ç–æ–±—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

**US-004:** –ö–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —è —Ö–æ—á—É –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å JSON Schema, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### **Epic 3: –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

**US-005:** –ö–∞–∫ –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å n8n, —è —Ö–æ—á—É –≤–∏–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã JSON Schema, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –æ—Å–≤–æ–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**US-006:** –ö–∞–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É, —á—Ç–æ–±—ã –º–æ–∏ –≤–æ—Ä–∫—Ñ–ª–æ—É –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üöÄ **–ü–ª–∞–Ω —Ä–µ–ª–∏–∑–∞**

### **Milestone 1: Core Functionality** (v1.3.0)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ streaming –æ–ø—Ü–∏–∏
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ JSON Schema
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### **Milestone 2: Enhanced UX** (v1.3.1)
- üìã –ü—Ä–∏–º–µ—Ä—ã JSON Schema
- üìã –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### **Milestone 3: Optimization** (v1.3.2)
- üìã –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üìã –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- üìã –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## üìà **–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞**

### **–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏**
- Adoption Rate: >30% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—ã–µ –æ–ø—Ü–∏–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 3 –º–µ—Å—è—Ü–µ–≤
- Error Rate: <1% –æ—à–∏–±–æ–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- User Satisfaction: >4.5/5 –≤ –æ—Ç–∑—ã–≤–∞—Ö

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏**
- Performance Impact: <5% degradation
- Test Coverage: >90% –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- Zero Breaking Changes –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤–æ—Ä–∫—Ñ–ª–æ—É

---

## üîç **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

### **A1: –ü—Ä–∏–º–µ—Ä—ã JSON Schema**

**–ü—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç:**
```json
{
  "type": "object",
  "properties": {
    "name": { "type": "string" },
    "age": { "type": "number" }
  },
  "required": ["name"]
}
```

**–ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤:**
```json
{
  "type": "object",
  "properties": {
    "users": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "email": { "type": "string", "format": "email" }
        }
      }
    }
  }
}
```

### **A2: –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**

**–í–µ—Ä—Å–∏—è 1.2 ‚Üí 1.3:**
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–æ–¥—ã: streaming = false (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- responseFormat —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ù–∏–∫–∞–∫–∏—Ö breaking changes

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ä–µ–ª–∏–∑—É**

### **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
- [ ] –ö–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] Code review –ø—Ä–æ–π–¥–µ–Ω
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Performance —Ç–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- [ ] Functional —Ç–µ—Å—Ç—ã
- [ ] Integration —Ç–µ—Å—Ç—ã
- [ ] User acceptance —Ç–µ—Å—Ç—ã
- [ ] Regression —Ç–µ—Å—Ç—ã

### **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- [ ] –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] User guide —Å–æ–∑–¥–∞–Ω
- [ ] API documentation –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] Changelog –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω

### **–î–µ–ø–ª–æ–π**
- [ ] Staging —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
- [ ] Production deployment –ø–ª–∞–Ω –≥–æ—Ç–æ–≤
- [ ] Rollback –ø–ª–∞–Ω –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω
- [ ] Monitoring –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üéØ **–ü—Ä–∏–Ω—è—Ç—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**

### **–ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã):**
1. **Streaming –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `false` - –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
2. **JSON Schema –≤–∞–ª–∏–¥–∞—Ü–∏—è:** –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–æ–¥–∞ (–Ω–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
3. **–†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ UI:** –í —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ–∫—Ü–∏–∏ "Options"
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç JSON Schema

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `NodeOperationError` –¥–ª—è —á–µ—Ç–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- JSON Schema —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ–ª–µ–º `type`
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ö–µ–º—ã –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ OpenAI
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `{"type": "object", "properties": {}}` –¥–ª—è JSON Schema

---

**–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤:**
- Product Owner: [–∏–º—è]
- Tech Lead: [–∏–º—è]  
- QA Lead: [–∏–º—è] 